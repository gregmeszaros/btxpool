{% include 'header.html' %}

<div id="main">

    <div class="intro">
        <h1 class="header-h1">BTXpool - Bitcore (BTX) mining pool</h1>
        <div class="minercontent">
            <div class="intro-info">
                <strong>Miners online / Workers: <span class="label label-btx"> {{ total_count_miners.total_count|default(0) }} / {{ total_count_workers.total_count|default(0) }}</span> </strong>
                <div class="help-text">Total unique miner addresses and workers.</div>
            </div>
            <div class="intro-info">
                <strong>Min. payout threshold: <span class="label label-btx">{{ min_payout }} BTX</span> </strong>
                <div class="help-text">Payouts are continuous throughout the day.</div>
            </div>
            <div class="intro-info">
                <strong>Pool hashrate: <span class="label label-btx">{{ showFriendlyHash(total_pool_hashrate.hashrate) }}</span> </strong>
                <div class="help-text">Data last refreshed: 20:06.</div>
            </div>
            <div class="intro-info">
                <strong>Reward structure: <span class="label label-btx">Proportional</span> </strong>
                <div class="help-text">Proportional reward based on the number of submitted "valid" shares and difficulty.</div>
            </div>
            <div class="intro-info">
                <strong>Pool fee: <span class="label label-btx">{{ pool_fee }}%</span> </strong>
                <div class="help-text">No transaction fees!</div>
            </div>
        </div>
    </div>

    <div class="intro">

        <div class="minercontent">
            <h2>Search Wallet</h2>
            <form name="wallet-check" action="index.php?page=index" class="wallet-input">
                <ul class="input-list wallet-input clearfix">
                    <li class="li-inline">
                        <input placeholder="ie. 1NgZ7MjHmVUuuy2Y4UMxDaVm4Me3TcNMpt" name="wallet" type="text" size="40">
                    </li>
                    <li class="li-inline">
                        <input value="Submit" class="focus all-news-btn" type="submit">
                    </li>
                </ul>
            </form>
        </div>

    </div>

    {% if wallet %}
        <div class="intro">
            <div class="minercontent">
                <div class="get-started wallet-info-label">Your wallet address is set to: <strong> {{ wallet }} </strong></div>
                <div class="intro-info">
                    <strong>Immature Balance: <span class="label label-btx"> {{ immature_balance.immature_balance|default(0) }} BTX </span> </strong>
                    <div class="help-text">Earnings awaiting blocks to mature.</div>
                </div>

                <div class="intro-info">
                    <strong>Pending Balance: <span class="label label-btx"> {{ pending_balance.pending_balance|default(0) }} BTX </span> </strong>
                    <div class="help-text">Matured earnings awaiting payout.</div>
                </div>

                <div class="intro-info">
                    <strong>Total Paid: <span class="label label-btx">{{ total_paid.total_payout|default(0) }} BTX</span> </strong>
                    <div class="help-text">Total paid to this wallet address.</div>
                </div>

                <div class="tab">
                    <button class="tablinks" onclick="openTab(event, 'workers')" id="defaultOpen">Workers ({{ workers_count|default(0) }})</button>
                    <button class="tablinks" onclick="openTab(event, 'earnings')">Earnings</button>
                    <button class="tablinks" onclick="openTab(event, 'payouts')">Payouts</button>
                </div>

                <div id="workers" class="tabcontent">
                    {% for worker in workers %}
                        <div>
                            <span>{{ worker.version }}: </span>
                            <span>{{ worker.hashrate }}</span>

                            <div id="container-user" style="min-width: 310px; height: 300px; margin: 0 auto"></div>
                        </div>
                    {% endfor %}
                </div>

                <div id="earnings" class="tabcontent">
                    <div>Total earnings last 1 hour: {{ earnings_last_hour.total_earnings|default(0) }} BTX </div>
                    <div>Total earnings last 3 hours: {{ earnings_last_3_hours.total_earnings|default(0) }} BTX </div>
                    <div>Total earnings last 24 hours: {{ earnings_last_24_hours.total_earnings|default(0) }} BTX </div>
                    <div>Total earnings last 7 days: {{ earnings_last_7_days.total_earnings|default(0) }} BTX </div>
                    <div>Total earnings last 30 days: {{ earnings_last_30_days.total_earnings|default(0) }} BTX </div>
                </div>

                <div id="payouts" class="tabcontent">
                    <table class="table">
                        <tr>
                            <th>TX ID</th>
                            <th>Amount</th>
                            <th>Time</th>
                        </tr>

                        {% for payout in payouts %}
                            <tr>
                                <td>
                                    <a href="https://chainz.cryptoid.info/btx/tx.dws?{{ payout.tx }}.htm" target="_blank"> {{ payout.tx }} </a>
                                </td>
                                <td>{{ payout.amount }}</td>
                                <td>{{ payout.time }}</td>
                            </tr>
                        {% endfor %}

                    </table>
                </div>

            </div>

        </div>

    {% endif %}

    <div class="intro">
        <div id="container-pool" style="min-width: 310px; height: 300px; margin: 0 auto"></div>
    </div>

    <div class="intro">

        <div class="minercontent">
            <h2>Instructions - getting started</h2>

            <div><strong>Stratum port</strong></div>
            <div class="get-started">stratum+tcp://btxpool.com:1111</div>

            <div><strong>Nvidia cards using <a href="https://github.com/tpruvot/ccminer/releases" target="_blank">CCMINER</a></strong></div>
            <div class="get-started">ccminer-x64 -a bitcore -o stratum+tcp://btxpool.com:1111 -u 1NgZ7MjHmVUuuy2Y4UMxDaVm4Me3TcNMpt -p x</div>

            <div><strong>Nvidia cards using SPMOD2</strong></div>
            <div class="get-started">ccminer -a bitcore -o stratum+tcp://btxpool.com:1111 -u 1NgZ7MjHmVUuuy2Y4UMxDaVm4Me3TcNMpt -p x</div>

            <div><strong>AMD cards using <a href="https://github.com/LIMXTEC/BitCore/releases" target="_blank">SGMINER</a></strong></div>
            <div class="get-started">sgminer.exe --kernel timetravel10 -o stratum+tcp://btxpool.com:1111 -u 1NgZ7MjHmVUuuy2Y4UMxDaVm4Me3TcNMpt -p x -I 19</div>
        </div>
    </div>


</div>

{% include 'footer.html' %}
